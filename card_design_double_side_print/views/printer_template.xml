<?xml version="1.0" encoding="utf-8" ?>
<odoo>

    <template id="assets_backend" name="double_side_print_assets_backend" inherit_id="web.assets_backend">
        <xpath expr="." position="inside">
            <script type="text/javascript" src="/card_design_double_side_print/static/src/js/printer_action.js"></script>
        </xpath>
    </template>

    <record model="ir.ui.view" id="card_desgin_template_form_view">
        <field name="name">card.design.template.form.view</field>
        <field name="model">card.template</field>
        <field name="inherit_id" ref="card_design.card_desgin_template_form_view"/>
        <field name="arch" type="xml">
            <field name="printer_lang" position="before">
                <field name="enable_double_printer" />
            </field>
            <button name="qz_print_front_side" position="attributes">
                <attribute name="attrs">{
                    'invisible': ['|', ('enable_printer', '=', False), ('enable_double_printer', '!=', 'False')],
                }</attribute>
            </button>
            <button name="qz_print_back_side" position="attributes">
                <attribute name="attrs">{
                    'invisible': ['|', ('enable_printer', '=', False), ('enable_double_printer', '!=', 'False')],
                }</attribute>
            </button>
            <xpath expr="//page[@name='config']" position="after">
                <page name="double_printer_config" string="Evoils Configuration"
                    attrs="{'invisible': ['|', '|', ('enable_printer', '=', False), ('back_side', '=', False), ('enable_double_printer', '=', False)]}">
                    <group attrs="{
                        'invisible': [('enable_double_printer', '=', False)],
                    }">
                        <group>
                            <field name="duplex_type"
                                attrs="{
                                    'required': [('enable_double_printer', '!=', False)],
                                    'invisible': [('enable_double_printer', '=', False)],
                                }"
                            />
                        </group>
                    </group>
                    <group attrs="{
                        'invisible': [('enable_double_printer', '=', False)],
                    }">
                        <group>
                            <!-- <field name="header_data"
                                attrs="{
                                    'required': [('enable_double_printer', '!=', False)],
                                    'invisible': [('enable_double_printer', '=', False)],
                                }"
                            /> -->
                            <field name="double_print_overlay"
                                attrs="{
                                    'required': [('enable_double_printer', '!=', False)],
                                    'invisible': [('enable_double_printer', '=', False)],
                                }"
                            />
                        </group>
                        <group>
                            <field name="double_print_back_data"
                                attrs="{
                                    'required': [('enable_double_printer', '!=', False)],
                                    'invisible': [('enable_double_printer', '=', False)],
                                }"
                            />
                            <!-- <field name="footer_data"
                                attrs="{
                                    'required': [('enable_double_printer', '!=', False)],
                                    'invisible': [('enable_double_printer', '=', False)],
                                }"
                            /> -->
                        </group>
                    </group>
                   <!--  <group attrs="{
                        'invisible': [('enable_double_printer', '=', False)],
                    }">
                        <field name="is_manually_duplex" attrs="{
                            'invisible': [('enable_double_printer', '=', False)],
                        }"/>
                    </group> -->
                    <!-- <div attrs="{
                        'invisible': [('enable_double_printer', '=', False)],
                    }">
                        <button name="update_manually_data_duplex" type="object"
                            string="Update Manually Data" attrs="{
                                'invisible': [('is_manually_duplex', '=', False)],
                            }"/>
                    </div>
                    <group attrs="{
                        'invisible': [('enable_double_printer', '=', False)],
                    }">
                        <field nolabel="1" name="manually_body_data_duplex" attrs="{
                            'invisible': [('is_manually_duplex', '=', False)],
                        }"/>
                    </group>
                    <div attrs="{
                        'invisible': [('enable_double_printer', '=', False)],
                    }">
                        <button name="check_data_duplex" type="object"
                            string="Update Manually Data" attrs="{
                                'invisible': [('is_manually_duplex', '=', False)],
                            }"/>
                    </div>
                    <group attrs="{
                        'invisible': [('enable_double_printer', '=', False)],
                    }">
                        <field nolabel="1" name="check_manually_data_duplex" attrs="{
                            'invisible': [('is_manually_duplex', '=', False)],
                        }"/>
                    </group> -->
                </page>
            </xpath>
            <button name="print_both_side_png" position="after">
                <button name="qz_double_nonduplex_front_print" type="object" string="Non-Duplex Print"
                    class="oe_highlight" icon="fa-print" style="background: teal;border-color: teal;"
                    attrs="{
                        'invisible': ['|', '|', '|', '|', ('enable_printer', '=', False), ('back_side', '=', False), ('enable_double_printer', '=', False), ('printer_lang', '!=', 'EVOLIS'), ('duplex_type', '=', 'duplex')],
                    }"/>
                <button name="qz_double_duplex_print" type="object" string="Duplex Print"
                    class="oe_highlight" icon="fa-print" style="background: teal;border-color: teal;"
                    attrs="{
                        'invisible': ['|', '|', '|', '|', ('enable_printer', '=', False), ('back_side', '=', False), ('enable_double_printer', '=', False), ('printer_lang', '!=', 'EVOLIS'), ('duplex_type', '=', 'noduplex')],
                    }"/>
            </button>
        </field>
    </record>

</odoo>
